<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Goger Browser Pro</title>
    <style>
        :root {
            --goger-blue: #4285F4;
            --header-bg: #dee1e6;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #ffffff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* HEADER */
        .app-header { background: var(--header-bg); display: flex; align-items: center; padding: 8px 10px 0; gap: 5px; border-bottom: 1px solid #bcbcbc; }
        .tabs-scroll { display: flex; gap: 4px; overflow-x: auto; flex-grow: 1; scrollbar-width: none; }
        .tabs-scroll::-webkit-scrollbar { display: none; }

        .tab { 
            background: #bdc1c6; padding: 10px 15px; border-radius: 8px 8px 0 0; 
            font-size: 12px; min-width: 120px; cursor: pointer; border: none;
            display: flex; justify-content: space-between; align-items: center;
        }
        .tab.active { background: white; font-weight: bold; }
        .close-btn { margin-left: 8px; font-size: 14px; opacity: 0.6; }

        .nav-btn { background: none; border: none; font-size: 20px; cursor: pointer; padding: 5px 10px; color: #5f6368; }

        /* CONTENIDO */
        #content-wrapper { flex-grow: 1; position: relative; }
        .view { display: none; width: 100%; height: 100%; overflow: hidden; }
        .view.active { display: flex; flex-direction: column; }

        /* HOME GOGER CON TU LOGO */
        .home-screen { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; background: white; }
        
        /* Ajuste de tu Logo */
        .goger-logo { 
            width: 250px; 
            max-width: 80%; 
            height: auto; 
            margin-bottom: 30px;
            user-select: none;
        }

        .search-bar { 
            width: 100%; max-width: 500px; padding: 14px 25px; 
            border-radius: 30px; border: 1px solid #dfe1e5; outline: none; 
            box-shadow: 0 2px 6px rgba(0,0,0,0.1); font-size: 16px;
        }

        iframe { width: 100%; height: 100%; border: none; }

        /* PANEL DESCARGAS */
        #downloads-panel {
            position: absolute; top: 0; right: 0; width: 100%; max-width: 300px; height: 100%;
            background: white; border-left: 1px solid #ddd; box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            display: none; flex-direction: column; z-index: 1000;
        }
    </style>
</head>
<body>

    <div class="app-header">
        <div class="tabs-scroll" id="tabsBar"></div>
        <button class="nav-btn" onclick="createNewTab()">+</button>
        <button class="nav-btn" onclick="toggleDownloads()">ðŸ“¥</button>
    </div>

    <div id="content-wrapper">
        <div id="downloads-panel">
            <div style="padding:15px; border-bottom:1px solid #eee; font-weight:bold; display:flex; justify-content:space-between;">
                Descargas Goger <span onclick="toggleDownloads()" style="cursor:pointer">Ã—</span>
            </div>
            <div id="dlList" style="padding:15px; font-size:13px;"></div>
        </div>
    </div>

    <script>
        let tabs = JSON.parse(localStorage.getItem('goger_tabs')) || [];

        function saveState() {
            localStorage.setItem('goger_tabs', JSON.stringify(tabs));
        }

        function toggleDownloads() {
            const panel = document.getElementById('downloads-panel');
            panel.style.display = (panel.style.display === 'flex') ? 'none' : 'flex';
        }

        function createNewTab(url = '', title = 'Inicio') {
            const id = Date.now();
            tabs.push({ id, url, title });
            renderTabs();
            switchTab(id);
            saveState();
        }

        function renderTabs() {
            const bar = document.getElementById('tabsBar');
            const wrapper = document.getElementById('content-wrapper');
            const dlPanel = document.getElementById('downloads-panel');
            
            bar.innerHTML = '';
            wrapper.innerHTML = '';
            wrapper.appendChild(dlPanel);

            tabs.forEach(tab => {
                const btn = document.createElement('div');
                btn.className = 'tab';
                btn.id = `btn-${tab.id}`;
                btn.onclick = () => switchTab(tab.id);
                btn.innerHTML = `<span>${tab.title}</span> <span class="close-btn" onclick="event.stopPropagation(); removeTab(${tab.id})">Ã—</span>`;
                bar.appendChild(btn);

                const view = document.createElement('div');
                view.className = 'view';
                view.id = `view-${tab.id}`;
                
                if (tab.url === '') {
                    view.innerHTML = `
                        <div class="home-screen">
                            <img src="https://i.ibb.co/pvvR9tf2/5-sin-t-tulo-20251227114906.png" class="goger-logo" alt="Goger Logo">
                            <input type="text" class="search-bar" placeholder="Buscar en la red..." onkeypress="handleSearch(event, ${tab.id})">
                        </div>`;
                } else {
                    view.innerHTML = `<iframe src="${tab.url}"></iframe>`;
                }
                wrapper.appendChild(view);
            });
        }

        function handleSearch(event, id) {
            if (event.key === 'Enter') {
                const query = event.target.value;
                const url = `https://www.bing.com/search?q=${encodeURIComponent(query)}`;
                const tab = tabs.find(t => t.id === id);
                tab.url = url;
                tab.title = query.substring(0, 10);
                saveState();
                renderTabs();
                switchTab(id);
            }
        }

        function switchTab(id) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            const targetView = document.getElementById(`view-${id}`);
            const targetBtn = document.getElementById(`btn-${id}`);
            if(targetView) targetView.classList.add('active');
            if(targetBtn) targetBtn.classList.add('active');
        }

        function removeTab(id) {
            tabs = tabs.filter(t => t.id !== id);
            saveState();
            if (tabs.length === 0) createNewTab();
            else {
                renderTabs();
                switchTab(tabs[tabs.length - 1].id);
            }
        }

        if (tabs.length === 0) createNewTab();
        else {
            renderTabs();
            switchTab(tabs[tabs.length - 1].id);
        }
    </script>
</body>
</html>
